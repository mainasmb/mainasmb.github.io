<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype CAMPUS-RIDE</title>
    <style>
        /* --- CSS : STYLES G√âN√âRAUX --- */
        :root {
            --primary-color: #4a90e2; /* Bleu Campus */
            --secondary-color: #f5f7fa;
            --text-color: #333;
            --success-color: #28a745;
            --danger-color: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #e9ecef;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        /* Simulation du t√©l√©phone */
        #phone-mockup {
            width: 375px;
            height: 667px;
            background-color: white;
            border-radius: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
            border: 10px solid #333;
        }

        /* En-t√™te de l'app */
        .app-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* Conteneur des √©crans */
        .screen-container {
            padding: 20px;
            height: calc(100% - 60px); /* Hauteur totale moins header */
            box-sizing: border-box;
            overflow-y: auto;
        }

        /* Gestion de l'affichage des √©crans */
        .screen {
            display: none; /* Cach√© par d√©faut */
            height: 100%;
        }

        .screen.active {
            display: flex; /* Affich√© si actif */
            flex-direction: column;
        }

        /* √âl√©ments de formulaire et boutons */
        h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 15px;
            width: 100%;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #666;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="datetime-local"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box; /* Important pour le padding */
        }

        button {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: auto; /* Pousse le bouton vers le bas */
            margin-bottom: 20px;
        }

        button:hover {
            background-color: #357abd;
        }

        /* --- STYLES SP√âCIFIQUES AUX √âCRANS --- */

        /* √âcran Liste des bus (Cartes) */
        .bus-card {
            background-color: var(--secondary-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 5px solid var(--primary-color);
        }

        .bus-card h3 {
            margin: 0 0 10px 0;
        }

        .bus-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #555;
        }
        
        .bus-card button {
            margin-top: 10px;
            padding: 10px;
            margin-bottom: 0;
        }

        /* √âcran Confirmation (R√©capitulatif) */
        .summary-box {
            background-color: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        /* √âcran Suivi (Carte simul√©e) */
        #map-container {
            height: 400px;
            background-color: #e9ecef;
            background-image: repeating-linear-gradient(0deg, transparent, transparent 20px, #fff 20px, #fff 22px),
                              repeating-linear-gradient(90deg, transparent, transparent 20px, #fff 20px, #fff 22px);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 2px solid #ddd;
        }

        #bus-marker {
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            position: absolute;
            bottom: 20px;
            left: 20px;
            transition: all 3s ease-in-out;
        }

        .destination-marker {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: var(--danger-color);
        }

        /* √âcran Chauffeur */
        .driver-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn-start { background-color: var(--success-color); }
        .btn-start:hover { background-color: #218838; }
        .btn-stop { background-color: var(--danger-color); }
        .btn-stop:hover { background-color: #c82333; }

        #gps-status {
            margin-top: 30px;
            padding: 15px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }

        /* Contr√¥le externe pour la d√©mo */
        #demo-controls {
            margin-top: 20px;
        }
        #demo-controls button {
            width: auto;
            padding: 10px 20px;
            background-color: #6c757d;
        }

    </style>
</head>
<body>

    <!-- Simulation de l'√©cran du t√©l√©phone -->
    <div id="phone-mockup">
        <div class="app-header">CAMPUS-RIDE</div>
        
        <div class="screen-container">

            <!-- ----- √âCRAN 1 : CONNEXION ----- -->
            <div id="screen-login" class="screen active">
                <h2>Connexion √âtudiant</h2>
                <div class="form-group">
                    <label for="email">Email universitaire</label>
                    <input type="email" id="email" placeholder="etudiant@universit√©.fr">
                </div>
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button id="btn-login">Se connecter</button>
            </div>


            <!-- ----- √âCRAN 2 : RECHERCHE DE TRAJET ----- -->
            <div id="screen-search" class="screen">
                <h2>Rechercher un trajet</h2>
                <div class="form-group">
                    <label for="depart">Point de d√©part</label>
                    <select id="depart">
                        <option>R√©sidence Universitaire A</option>
                        <option>Gare Centrale</option>
                        <option>Campus Sud</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="destination">Destination</label>
                    <select id="destination">
                        <option>Campus Principal (Sciences)</option>
                        <option>Biblioth√®que Universitaire</option>
                        <option>Campus Est (Lettres)</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label for="horaire">Horaire souhait√©</label>
                    <input type="datetime-local" id="horaire">
                </div>
                <button id="btn-search">Rechercher</button>
            </div>


            <!-- ----- √âCRAN 3 : LISTE DES BUS ----- -->
            <div id="screen-list" class="screen">
                <h2>Bus disponibles</h2>
                
                <!-- Bus 1 -->
                <div class="bus-card">
                    <h3>Navette N¬∞42 (Express)</h3>
                    <div class="bus-info">
                        <span>D√©part: 08h15</span>
                        <span>Arriv√©e: 08h35</span>
                    </div>
                     <div class="bus-info">
                        <span style="color: var(--success-color);">8 places disponibles</span>
                    </div>
                    <button class="btn-reserve">R√©server ce bus</button>
                </div>

                <!-- Bus 2 -->
                <div class="bus-card">
                    <h3>Navette N¬∞12 (Standard)</h3>
                    <div class="bus-info">
                        <span>D√©part: 08h30</span>
                        <span>Arriv√©e: 09h00</span>
                    </div>
                     <div class="bus-info">
                        <span style="color: orange;">3 places disponibles</span>
                    </div>
                    <button class="btn-reserve">R√©server ce bus</button>
                </div>

                 <!-- Bus 3 -->
                 <div class="bus-card">
                    <h3>Navette N¬∞18</h3>
                    <div class="bus-info">
                        <span>D√©part: 08h45</span>
                        <span>Arriv√©e: 09h15</span>
                    </div>
                     <div class="bus-info">
                        <span style="color: var(--success-color);">12 places disponibles</span>
                    </div>
                    <button class="btn-reserve">R√©server ce bus</button>
                </div>
            </div>


            <!-- ----- √âCRAN 4 : CONFIRMATION ----- -->
            <div id="screen-confirm" class="screen">
                <h2>Confirmation</h2>
                <p>Veuillez v√©rifier les d√©tails de votre r√©servation.</p>
                
                <div class="summary-box">
                    <h3>Navette N¬∞42 (Express)</h3>
                    <p><strong>D√©part :</strong> R√©sidence Universitaire A<br>
                    <strong>Destination :</strong> Campus Principal<br>
                    <strong>Horaire :</strong> Aujourd'hui √† 08h15<br>
                    <strong>Passager :</strong> 1 √âtudiant</p>
                </div>
                
                <button id="btn-confirm-final">Confirmer la r√©servation</button>
            </div>


            <!-- ----- √âCRAN 5 : SUIVI DU BUS ----- -->
            <div id="screen-tracking" class="screen">
                <h2>Suivi en temps r√©el</h2>
                <p>Votre bus est en route vers le point de d√©part.</p>
                
                <div id="map-container">
                    <div class="destination-marker">üìç</div>
                    <!-- Le bus qui bougera -->
                    <div id="bus-marker"></div>
                </div>
                
                <div style="margin-top: 20px; text-align: center;">
                    <p>Arriv√©e estim√©e dans <strong>4 minutes</strong></p>
                </div>
                <!-- Pas de bouton de navigation ici, c'est la fin du flux √©tudiant -->
            </div>


            <!-- ----- √âCRAN 6 : INTERFACE CHAUFFEUR ----- -->
            <div id="screen-driver" class="screen">
                <h2>Espace Chauffeur</h2>
                <p>Navette N¬∞42 - Trajet en attente</p>

                <div class="driver-controls">
                    <button id="btn-driver-start" class="btn-start">D√©marrer le trajet</button>
                    <button id="btn-driver-stop" class="btn-stop" disabled>Terminer le trajet</button>
                </div>

                <div id="gps-status">
                   Statut GPS : üî¥ Inactif
                </div>
            </div>

        </div>
    </div>

    <!-- Boutons externes pour la d√©monstration -->
    <div id="demo-controls">
        <button id="btn-toggle-mode">Basculer Mode √âtudiant / Chauffeur</button>
    </div>


    <script>
        /* --- JAVASCRIPT : LOGIQUE INTERACTIVE --- */

        // Fonction utilitaire pour naviguer entre les √©crans
        function navigateTo(screenId) {
            // 1. Cacher l'√©cran actuel
            const currentScreen = document.querySelector('.screen.active');
            if (currentScreen) {
                currentScreen.classList.remove('active');
            }

            // 2. Afficher le nouvel √©cran
            const nextScreen = document.getElementById(screenId);
            if (nextScreen) {
                nextScreen.classList.add('active');
            }
            
            // Scroll en haut du nouvel √©cran
            document.querySelector('.screen-container').scrollTop = 0;

            // Actions sp√©cifiques lors de l'arriv√©e sur certains √©crans
            if (screenId === 'screen-tracking') {
                startBusAnimation();
            }
        }

        // --- NAVIGATION FLUX √âTUDIANT ---

        // √âcran 1 -> √âcran 2 (Connexion -> Recherche)
        document.getElementById('btn-login').addEventListener('click', function() {
            // (Ici, on pourrait ajouter une validation d'email/mot de passe)
            navigateTo('screen-search');
        });

        // √âcran 2 -> √âcran 3 (Recherche -> Liste)
        document.getElementById('btn-search').addEventListener('click', function() {
            navigateTo('screen-list');
        });

        // √âcran 3 -> √âcran 4 (Liste -> Confirmation)
        // On attache l'√©v√©nement √† tous les boutons "R√©server"
        const reserveButtons = document.querySelectorAll('.btn-reserve');
        reserveButtons.forEach(button => {
            button.addEventListener('click', function() {
                navigateTo('screen-confirm');
            });
        });

        // √âcran 4 -> √âcran 5 (Confirmation -> Suivi)
        document.getElementById('btn-confirm-final').addEventListener('click', function() {
            navigateTo('screen-tracking');
        });


        // --- LOGIQUE √âCRAN DE SUIVI (Animation) ---
        function startBusAnimation() {
            const bus = document.getElementById('bus-marker');
            // R√©initialiser la position
            bus.style.left = '20px';
            bus.style.bottom = '20px';
            
            // Petite pause avant de d√©marrer l'animation pour que la transition CSS fonctionne
            setTimeout(() => {
                 // Simuler un d√©placement vers la destination (haut droite)
                bus.style.left = 'calc(100% - 50px)';
                bus.style.bottom = 'calc(100% - 60px)';
            }, 500);
        }


        // --- LOGIQUE INTERFACE CHAUFFEUR ---
        const gpsStatusDiv = document.getElementById('gps-status');
        const btnStart = document.getElementById('btn-driver-start');
        const btnStop = document.getElementById('btn-driver-stop');
        let gpsInterval;

        btnStart.addEventListener('click', function() {
            gpsStatusDiv.innerHTML = 'Statut GPS : üü¢ Actif - Envoi de la position...';
            btnStart.disabled = true;
            btnStart.style.opacity = '0.5';
            btnStop.disabled = false;
            btnStop.style.opacity = '1';

            // Simulation de mise √† jour GPS
            gpsInterval = setInterval(() => {
                const lat = (48.85 + (Math.random() * 0.01)).toFixed(4);
                const lng = (2.35 + (Math.random() * 0.01)).toFixed(4);
                gpsStatusDiv.innerHTML = `Statut GPS : üü¢ Actif <br> Position : ${lat}, ${lng}`;
            }, 2000);
        });

        btnStop.addEventListener('click', function() {
            clearInterval(gpsInterval);
            gpsStatusDiv.innerHTML = 'Statut GPS : üî¥ Inactif - Trajet termin√©';
            btnStart.disabled = false;
            btnStart.style.opacity = '1';
            btnStop.disabled = true;
            btnStop.style.opacity = '0.5';
        });


        // --- CONTR√îLES DE D√âMONSTRATION (Toggle Mode) ---
        let isStudentMode = true;
        document.getElementById('btn-toggle-mode').addEventListener('click', function() {
            if (isStudentMode) {
                // Passer en mode chauffeur
                navigateTo('screen-driver');
                document.querySelector('.app-header').textContent = 'CAMPUS-RIDE (Chauffeur)';
            } else {
                // Retourner au d√©but du mode √©tudiant
                navigateTo('screen-login');
                document.querySelector('.app-header').textContent = 'CAMPUS-RIDE';
            }
            isStudentMode = !isStudentMode;
        });

        // Initialisation de la date dans le champ recherche pour l'UX
        const now = new Date();
        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
        document.getElementById('horaire').value = now.toISOString().slice(0,16);

    </script>
</body>
</html>